<html lang="ko-KR">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:title" content="starry-asterisk.github.io">
    <meta property="og:locale" content="ko_KR">
    <meta name="description" content="personal github blog">
    <meta property="og:description" content="personal github blog">
    <meta property="og:url" content="https://starry-asterisk.github.io/">
    <meta property="og:site_name" content="starry-asterisk.github.io">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary">
    <meta property="twitter:title" content="starry-asterisk.github.io">
    <link rel="canonical" href="https://starry-asterisk.github.io/">
    <link rel="icon" href="/favicon.png">
    <link rel="stylesheet" href="index.css">
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"WebSite","description":"personal github blog","headline":"starry-asterisk.github.io","name":"starry-asterisk.github.io","url":"https://starry-asterisk.github.io/"}</script>
    
    <title>starry-asterisk.github.io | personal github blog</title>
</head>
<body>
  <header>
    <a class="logo" title="home" href="/">
      <img src="/logo.png" alt="✨">
      <span>starry-asterisk</span>
    </a>
    <nav>
      <a href="/about">about</a>
      <a href="/resume">resume</a>
    </nav>
  </header>
  <div class="middle">
    <aside>

    </aside>
    <main>
      <section class="profile">
        <div class="profile__left">
          <a class="profile__left__avatar" git-target="html_url,href" href="/#">
            <img git-target="avatar_url,src" alt="✨" src="/">
          </a>
          <h2 git-target="name">김현우</h5>
          <h5 git-target="login">starry-asterisk</h2>
          <h4>6507055@naver.com</h3>
        </div>
        <div class="profile__right">
          <div class="profile__right__description">
            개발자로서의 설명
          </div>
          <ul class="profile__right__skills">
            <li>HTML</li>
            <li>CSS</li>
            <li>javascript</li>
          </ul>
        </div>
      </section>
      <section class="posts" data-type="card">
        <ul>
          <li>
            <img src="img_url" alt="title">
            <p>title | (tag) | 설명...</p>
            <p>1 min ago. 안녕하세요</p>
            <!--
              ------------------------------------------------


                              IMG Background


              ------------------------------------------------
              title  |  tag  | description...
              ------------------------------------------------
              latest comment
              ------------------------------------------------
            -->
          </li>
        </ul>
        <button class="button_more">view more</button>
      </section>
      <section class="repositories" data-type="list">
        <ul></ul><button class="button_more">view more</button>
            <!--
              ------------------------------------------------


                   github 프로필에 있는 레포지토리 목록 참고


              ------------------------------------------------
              issue (tag) title, datetime
            -->
      </section>
      <section class="issues" data-type="list">
        <ul></ul><button class="button_more">view more</button>
        <!--
              ------------------------------------------------
              Repo. > issue (tag) title, datetime
              ------------------------------------------------
              Repo. > issue (tag) title, datetime
              ------------------------------------------------
              Repo. > issue (tag) title, datetime
              ------------------------------------------------
              Repo. > issue (tag) title, datetime
              ------------------------------------------------
              Repo. > issue (tag) title, datetime
              ------------------------------------------------
              Repo. > issue (tag) title, datetime
              ------------------------------------------------
              Repo. > issue (tag) title, datetime
              ------------------------------------------------
        -->
      </section>
    </main>
  </div>
  <footer>
    <p class="copyright">© 2023 starry-asterisk</p>
    <p>powered by <a href="#"></a>Git-hub</a>, written by <a href="#">starry-asterisk</a></p>
  </footer>
</body>
<script>
  /*
  git api

  https://api.github.com/repos/<username>/<repo>/issues < issue list
  https://api.github.com/users/<username>/repos < repo list
  https://api.github.com/users/<username> < user profile
  
  */
  const USERNAME = 'starry-asterisk';
  let _repos = {};
  async function init(){
    
  }
  getUsers();
  function getUsers() {
    fetch(`https://api.github.com/users/${USERNAME}`)
    .then(res => res.json())
    .then(user => {
      gitAttr('avatar_url', user.avatar_url);
      gitAttr('html_url', user.html_url);
      gitAttr('name', user.name);
      gitAttr('login', user.login);
      getRepos(user);
    }).catch(alert);
  }
  function getRepos(user) {
    fetch(user.repos_url)
    .then(res => res.json())
    .then(getIssues).catch(alert);
  }
  function getIssues(repos) {
    repos.forEach(repo => {
      _repos[repo.name] = repo;
      if(repo.name == `${USERNAME}.github.io`){
        getPosts(repo);
        return;
      }
      fetch(`https://api.github.com/repos/${USERNAME}/${repo.name}/issues`)
      .then(res => res.json())
      .then(issues => issues.forEach(issue => {
        let li = document.createElement('li');
        li.innerHTML = `<img src="img_url" alt="${issue.title}">
            <p>${issue.title} | (tag) | 설명...</p>
            <p>1 min ago. 안녕하세요</p>`;
        document.querySelector('.issues>ul').appendChild(li);
      }));
    });
  }
  function getPosts(repo){
    fetch(`https://api.github.com/repos/${USERNAME}/${repo.name}/issues`)
      .then(res => res.json())
      .then(issues => issues.forEach(issue => {
        let li = document.createElement('li');
        li.innerHTML = `<img src="img_url" alt="${issue.title}">
            <p>${issue.title} | (tag) | 설명...</p>
            <p>1 min ago. 안녕하세요</p>`;
        document.querySelector('.posts>ul').appendChild(li);
      }));
  }
  function alert(e){
    console.log(e);
  }
  function gitAttr(attr, value){
    document.querySelectorAll(`[git-target^="${attr},"]`).forEach(el => {
      let [attr, target] = el.getAttribute('git-target').split(',');
      if(target){
        el.setAttribute(target, value);
      }else{
        el.innerHTML = value;
      }
      el.removeAttribute('git-target');
    });
  }
</script>
</html>
